loki:
  auth_enabled: false
  commonConfig:
    path_prefix: /var/loki
    replication_factor: 1
  server:
    http_listen_port: 3100
  storage:
    type: filesystem
    bucketNames:
      chunks: loki-chunks
      ruler: loki-ruler
      admin: loki-admin
  schemaConfig:
    configs:
      - from: 2020-10-24
        store: tsdb
        object_store: filesystem
        schema: v13
        index:
          prefix: index_
          period: 24h
  compactor:
    working_directory: /var/loki/compactor
    shared_store: filesystem
    retention_enabled: true
  limits_config:
    retention_period: 7d
  ruler:
    storage:
      type: local
      local:
        directory: /var/loki/rules
  chunk_store_config:
    chunk_cache_config:
      embedded_cache:
        enabled: true
        max_size_mb: 100
        ttl: 1h
  query_range:
    results_cache:
      cache:
        embedded_cache:
          enabled: true
          max_size_mb: 50
          ttl: 24h
persistence:
  enabled: true
  accessModes: ["ReadWriteOnce"]
  size: 1Gi
  storageClassName: standard
service:
  type: ClusterIP
  port: 3100
resources:
  requests:
    cpu: 100m
    memory: 128Mi
  limits:
    cpu: 500m
    memory: 256Mi

# Disable individual components (used in distributed mode)
write:
  replicas: 0
read:
  replicas: 0
backend:
  replicas: 0

gateway:
  enabled: false

monitoring:
  selfMonitoring:
    enabled: false
  lokiCanary:
    enabled: false

test:
  enabled: false